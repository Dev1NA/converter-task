(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){},66:function(e,n,t){},68:function(e,n,t){},70:function(e,n,t){},71:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(12),a=t.n(c),o=(t(40),t(41),t(7)),u=t.n(o),s=t(14),i=t(6),d=t(9),j=t(31),l=t.n(j),f=Object(d.b)("rates/fetchRatesStatus",Object(s.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("https://api.apilayer.com/fixer/latest?base=USD&apikey=".concat("90hByKDOCUIP0aOP9yQwSvR5ydrokcsj"));case 2:return n=e.sent,t=n.data,e.abrupt("return",t.rates);case 5:case"end":return e.stop()}}),e)})))),m=Object(d.c)({name:"converter",initialState:{rates:{},amountFrom:1,amountTo:1,currencyFrom:"USD",currencyTo:"EUR",loading:!0,error:!1,eur:0,uah:0,status:"loading"},reducers:{setRates:function(e,n){e.rates=n.payload},setAmountTo:function(e,n){e.amountTo=n.payload},setAmountFrom:function(e,n){e.amountFrom=n.payload},setCurrencyTo:function(e,n){e.currencyTo=n.payload},setCurrencyFrom:function(e,n){e.currencyFrom=n.payload},setUAH:function(e,n){e.uah=n.payload},setEUR:function(e,n){e.eur=n.payload}},extraReducers:function(e){e.addCase(f.pending,(function(e){e.status="loading",e.rates={}})),e.addCase(f.fulfilled,(function(e,n){e.status="success",e.rates=n.payload,e.eur=n.payload.EUR,e.uah=n.payload.UAH,e.amountTo=e.amountFrom*n.payload[e.currencyTo]/n.payload[e.currencyFrom],e.amountFrom=e.amountTo*n.payload[e.currencyFrom]/n.payload[e.currencyTo]})),e.addCase(f.rejected,(function(e){e.status="error",e.rates={}}))}}),y=m.actions,h=y.setAmountTo,b=y.setAmountFrom,p=y.setCurrencyTo,O=y.setCurrencyFrom,x=(y.setRates,m.reducer),v=function(e){return e.converter},g=(t(66),t(1)),C=function(e){var n=e.onAmountChange,t=e.onCurrencyChange,r=e.currencies,c=e.currency,a=e.amount;return Object(g.jsxs)("div",{className:"group",children:[Object(g.jsx)("input",{type:"number",value:a,onChange:function(e){return n(e.target.value)}}),Object(g.jsx)("select",{value:c,onChange:function(e){return t(e.target.value)},children:r.map((function(e,n){return Object(g.jsx)("option",{value:e,children:e},n)}))})]})},F=(t(68),function(){var e=Object(i.c)(v),n=e.uah,t=e.eur;return Object(g.jsxs)("div",{className:"header",children:[Object(g.jsxs)("h2",{children:["USD: ",n.toFixed(2)]}),Object(g.jsxs)("h2",{children:["EUR: ",(n/t).toFixed(2)]})]})}),T=t(35),w=(t(70),function(){return Object(g.jsx)("div",{className:"loader",children:Object(g.jsx)(T.a,{height:"80",width:"80",radius:"9",color:"#fff",ariaLabel:"three-dots-loading",visible:!0})})}),U=(t(71),function(){return Object(g.jsx)("h1",{className:"not-found",children:"Something went wrong. PLease try later."})}),A=(t(72),function(){var e=Object(i.c)(v),n=e.rates,t=e.amountTo,c=e.amountFrom,a=e.currencyFrom,o=e.currencyTo,d=e.status,j=Object(i.b)(),l=function(e){return~~(100*e)/100};function m(e){j(h(l(e*n[o]/n[a]))),j(b(e))}var y=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(f());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){y()}),[]),Object(r.useEffect)((function(){if(n){m(1)}}),[n]),Object(g.jsx)(g.Fragment,{children:"loading"===d?Object(g.jsx)(w,{}):"error"===d?Object(g.jsx)(U,{}):Object(g.jsxs)("div",{children:[Object(g.jsx)(F,{}),Object(g.jsxs)("div",{className:"converter",children:[Object(g.jsx)("h1",{className:"title",children:"Currency Converter"}),Object(g.jsx)(C,{onAmountChange:m,onCurrencyChange:function(e){j(h(l(c*n[o]/n[e]))),j(O(e.toString()))},currencies:Object.keys(n),amount:c,currency:a}),Object(g.jsx)(C,{onAmountChange:function(e){j(b(l(e*n[a]/n[o]))),j(h(e))},onCurrencyChange:function(e){j(b(l(t*n[a]/n[e]))),j(p(e.toString()))},currencies:Object.keys(n),amount:t,currency:o}),Object(g.jsx)("div",{className:"result",children:c+" "+a+" = "+t+" "+o})]})]})})}),R=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(A,{})})},S=Object(d.a)({reducer:{converter:x}});a.a.render(Object(g.jsx)(i.a,{store:S,children:Object(g.jsx)(R,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.16f16cb1.chunk.js.map